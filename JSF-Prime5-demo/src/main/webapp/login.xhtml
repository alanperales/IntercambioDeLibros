<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
                      
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:p="http://primefaces.org/ui">
	  
	<h:head>
		<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
		<title>Sistema de Intecambio de Libros</title>
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/themePrime/primefaces.css" />  
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/themePrime/theme.css" /> 
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/themePrime/icon-theme.css" /> 
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/themePrime/fonts.css" /> 
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/themePrime/general-style.css" />  
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/themePrime/default.css" /> 	
		<script type="text/javascript" src="#{request.contextPath}/resources/js/jquery.js"></script>	
		<script type="text/javascript" src="#{request.contextPath}/resources/js/jquery.autoText-1.0.0.js"></script>
		<script type="text/javascript" src="#{request.contextPath}/resources/js/jquery.autoNumeric-1.6.2.js"></script>
		<script type="text/javascript" src="#{request.contextPath}/resources/js/ValidacionUtil.js"></script>
		<script type="text/javascript" src="#{request.contextPath}/resources/js/funciones.js"></script>
		<script type="text/javascript" src="#{request.contextPath}/resources/js/bootstrap.js">
			$.noConflict();
		</script>
		
		<h:outputText value="&lt;!--[if lt IE 9]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{request.contextPath}/resources/css/bootstrap-ie7.css&quot;/&gt;&lt;![endif]--&gt;"
					  escape="false">
		</h:outputText>		
	</h:head>
	<h:body style="background: rgb(247,247,247);">
		<f:view>
			<f:loadBundle basename="messages" var="m"></f:loadBundle>
			<form id="formLogin" action="${request.contextPath}/iniciarSesion" method="post">
				<p:growl id="growl" life="5000"></p:growl>
				<br /><br /><br /><br /><br /><br />
				<div id="divPrincipalLogin">
					<a class="hiddenanchor" id="toregister"></a>
					<a class="hiddenanchor" id="tologin"></a>
					
					<div id="containerLogin">
						<div id="divSuperiorLogin">
							<h:panelGrid columns="1" style="width:100%" cellpadding="0" cellspacing="0">
								<h:graphicImage url="./resources/themePrime/images/logotipo-bbva-small.png"></h:graphicImage>
							</h:panelGrid>
						</div>	
						<div id="divCentralDerechoLogin">
							<h:panelGrid columns="2" styleClass="centered2">
								<h:outputLabel for="txtUsuario" 
											   value="#{m.login_lbl_usuario}:" 
											   styleClass="color-letra-azul">
							    </h:outputLabel>
								<h:inputText id="txtUsuario"
										     value="#{loginModel.usuario}"
										     onchange="this.value=this.value.toUpperCase()"
										     onblur="this.value=this.value.toUpperCase()"
										     label="#{m.login_lbl_usuario}" 
										     style="width:180px">
								</h:inputText>

								<h:outputLabel for="txtClave"
											   value="#{m.login_lbl_clave}:">
							    </h:outputLabel>
							    
							    <p:password id="txtClave"
							    			value="#{loginModel.password}"
							    			label="#{m.login_lbl_clave}"
							    			style="width:180px">
							    </p:password>
							</h:panelGrid>
							<h:panelGrid columns="2" styleClass="centered2">
								<button type="submit" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left">
									<span class="ui-button-text">Login</span>
								</button>
								<button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-left">
									<span class="ui-button-text">Login</span>
								</button>
							</h:panelGrid>
							<h:panelGrid id="pnlMensaje">
								<h:messages></h:messages>
							</h:panelGrid>
						</div>
						<div style="clear:both;"></div>
						<div id="divInferiorLogin">
							<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true"></p:messages>
							<div class="message">
								<h:outputText rendered="#{param.error == 'true' and SPRING_SECURITY_LAST_EXCEPTION != null}" value="#{SPRING_SECURITY_LAST_EXCEPTION.message}"/>
							</div>
						</div>
					</div>
				</div>
				
				<!--  preloader -->
				<p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()"></p:ajaxStatus>
				<p:dialog widgetVar="statusDialog"
						  modal="true"
						  draggable="false"
						  closable="false"
						  resizable="false"
						  showHeader="false"
						  >
						  <p:graphicImage url="./resources/images/cargando.gif"></p:graphicImage>
				</p:dialog>
			</form>
		</f:view>
	  </h:body>
</html>